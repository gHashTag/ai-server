---
description: 
globs: 
alwaysApply: true
---
# Current Task: Instagram Users Scraper - Inngest Function & Database Integration

## üïâÔ∏è –°—Ç–∞—Ç—É—Å: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ ‚úèÔ∏è

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å Inngest —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Instagram —á–µ—Ä–µ–∑ RapidAPI –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL (Neon DB).

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ

### üéØ –û—Å–Ω–æ–≤–Ω–∞—è –ó–∞–¥–∞—á–∞
–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö Instagram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:
- **API:** RapidAPI Instagram Scraper (endpoint: `similar_users_v2`)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL (Neon DB)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Inngest —Ñ—É–Ω–∫—Ü–∏–∏ —Å TDD –ø–æ–¥—Ö–æ–¥–æ–º

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –†–µ—à–µ–Ω–∏—è

#### 1. **API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- **Endpoint:** `https://real-time-instagram-scraper-api1.p.rapidapi.com/v1/similar_users_v2`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `username_or_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä: "neuro_coder")
- **–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** JSON —Å –º–∞—Å—Å–∏–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API**
–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç:
```typescript
interface InstagramUser {
  pk: string                    // Instagram ID
  username: string              // Username
  full_name: string             // –ü–æ–ª–Ω–æ–µ –∏–º—è
  is_private: boolean           // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –ª–∏ –∞–∫–∫–∞—É–Ω—Ç
  is_verified: boolean          // –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ª–∏
  profile_pic_url: string       // URL –∞–≤–∞—Ç–∞—Ä–∞
  profile_chaining_secondary_label: string  // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
  social_context: string        // –ö–æ–Ω—Ç–µ–∫—Å—Ç
}
```

#### 3. **–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL**
–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `instagram_similar_users`:
```sql
CREATE TABLE instagram_similar_users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  search_username VARCHAR(255) NOT NULL,
  user_pk VARCHAR(255) NOT NULL,
  username VARCHAR(255) NOT NULL,
  full_name VARCHAR(255),
  is_private BOOLEAN DEFAULT false,
  is_verified BOOLEAN DEFAULT false,
  profile_pic_url TEXT,
  profile_chaining_secondary_label VARCHAR(255),
  social_context VARCHAR(255),
  scraped_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(search_username, user_pk)
);

CREATE INDEX idx_instagram_users_search_username ON instagram_similar_users(search_username);
CREATE INDEX idx_instagram_users_scraped_at ON instagram_similar_users(scraped_at);
```

### üîÑ –ü–ª–∞–Ω –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (TDD Approach)

#### **–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞** ‚úÖ 
- ‚úÖ 1.1 –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã TypeScript
- ‚úÖ 1.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Neon DB  
- ‚úÖ 1.3 –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úèÔ∏è 1.4 –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

#### **–≠—Ç–∞–ø 2: Core Functions (TDD)** ‚úÖ
- ‚úÖ 2.1 –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é API –∑–∞–ø—Ä–æ—Å–∞ (—Å —Ç–µ—Å—Ç–∞–º–∏)
- ‚úÖ 2.2 –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î (—Å —Ç–µ—Å—Ç–∞–º–∏)
- ‚úÖ 2.3 –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (—Å —Ç–µ—Å—Ç–∞–º–∏)
- ‚úèÔ∏è 2.4 –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (—Å —Ç–µ—Å—Ç–∞–º–∏)

#### **–≠—Ç–∞–ø 3: Inngest Function** ‚úÖ
- ‚úÖ 3.1 –°–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é Inngest —Ñ—É–Ω–∫—Ü–∏—é
- ‚úÖ 3.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å step-by-step –ª–æ–≥–∏–∫—É
- ‚úÖ 3.3 –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–æ–≤
- ‚úÖ 3.4 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

#### **–≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úèÔ∏è
- ‚úèÔ∏è 4.1 Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úèÔ∏è 4.2 Integration —Ç–µ—Å—Ç—ã –¥–ª—è Inngest —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úèÔ∏è 4.3 End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- ‚úèÔ∏è 4.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ—à–∏–±–æ–∫

#### **–≠—Ç–∞–ø 5: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –î–µ–ø–ª–æ–π** ‚úèÔ∏è
- ‚úèÔ∏è 5.1 –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
- ‚úèÔ∏è 5.2 –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úèÔ∏è 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úèÔ∏è 5.4 –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üß™ TDD –ö—Ä–∏—Ç–µ—Ä–∏–∏ –£—Å–ø–µ—Ö–∞

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
1. ‚úèÔ∏è **API Integration Test** - —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Instagram API
2. ‚úèÔ∏è **Data Validation Test** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
3. ‚úèÔ∏è **Database Insertion Test** - —É—Å–ø–µ—à–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Neon DB
4. ‚úèÔ∏è **Duplicate Handling Test** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
5. ‚úèÔ∏è **Error Handling Test** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API –∏ –ë–î
6. ‚úèÔ∏è **Inngest Function Test** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Inngest

#### **–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
7. ‚úèÔ∏è **Performance Test** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ 50+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ —Ä–∞–∑
8. ‚úèÔ∏è **Rate Limiting Test** - —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ API  
9. ‚úèÔ∏è **Retry Logic Test** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ —Å–±–æ—è—Ö
10. ‚úèÔ∏è **Logging Test** - –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ inngest-functions/
‚îÇ   ‚îî‚îÄ‚îÄ instagramScraper.ts           # –û—Å–Ω–æ–≤–Ω–∞—è Inngest —Ñ—É–Ω–∫—Ü–∏—è
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îî‚îÄ‚îÄ instagram/
‚îÇ       ‚îú‚îÄ‚îÄ api.ts                    # API –∫–ª–∏–µ–Ω—Ç –¥–ª—è Instagram
‚îÇ       ‚îú‚îÄ‚îÄ validator.ts              # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îî‚îÄ‚îÄ database.ts               # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îú‚îÄ‚îÄ interfaces/
‚îÇ   ‚îî‚îÄ‚îÄ instagram.interface.ts        # TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îî‚îÄ‚îÄ test/
    ‚îú‚îÄ‚îÄ instagram.api.test.ts         # –¢–µ—Å—Ç—ã API
    ‚îú‚îÄ‚îÄ instagram.database.test.ts    # –¢–µ—Å—Ç—ã –ë–î
    ‚îî‚îÄ‚îÄ instagramScraper.test.ts      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

### üöÄ Event Interface

```typescript
interface InstagramScrapingEvent {
  name: 'instagram/scrape-similar-users'
  data: {
    username_or_id: string           // –¶–µ–ª–µ–≤–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    max_users?: number              // –ú–∞–∫—Å–∏–º—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (default: 50)
    requester_telegram_id?: string  // ID –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    metadata?: Record<string, any>   // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  }
}
```

### üéØ –°–ª–µ–¥—É—é—â–∏–π –®–∞–≥: **–≠—Ç–∞–ø 4.1** - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/test/instagram.api.test.ts` —Å unit —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è API —Ñ—É–Ω–∫—Ü–∏–π.

---

## üõ†Ô∏è Environment Variables

–î–æ–±–∞–≤–∏—Ç—å –≤ `.env`:
```
RAPIDAPI_INSTAGRAM_KEY=4c7fb71062mshe59423fd65d0fadp145d45jsn0548ea378f88
RAPIDAPI_INSTAGRAM_HOST=real-time-instagram-scraper-api1.p.rapidapi.com
NEON_DATABASE_URL=postgresql://neondb_owner:npg_5RWzh7CwrXxE@ep-delicate-block-a1l1lt0p-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require
```

**–ü—Ä–∏–Ω—Ü–∏–ø TDD:** –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–µ—Å—Ç–æ–≤ (üî¥ Red), –∑–∞—Ç–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (üü¢ Green), –∑–∞—Ç–µ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (‚ôªÔ∏è Refactor).

*–û–º –®–∞–Ω—Ç–∏. –û—Ç —Ç–µ—Å—Ç–æ–≤ –∫ —Å–≤–µ—Ç—É –∏—Å—Ç–∏–Ω—ã, –æ—Ç —Ö–∞–æ—Å–∞ –∫ –ø–æ—Ä—è–¥–∫—É –¥–∞–Ω–Ω—ã—Ö.* üôè

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase

# Current Task: MCP –°–µ—Ä–≤–µ—Ä - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Cursor

## üïâÔ∏è –°—Ç–∞—Ç—É—Å: –ó–ê–î–ê–ß–ê –ó–ê–í–ï–†–®–ï–ù–ê –ò –û–ß–ò–©–ï–ù–ê! ‚úÖüßπ

**–ü–û–ë–ï–î–ê:** MCP —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Cursor! –ó–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω! –õ–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã!

### üìã –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –≠—Ç–∞–ø—ã

- ‚úÖ **–≠—Ç–∞–ø 1-13: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MCP —Å Cursor**
    - ‚úÖ MCP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)
    - ‚úÖ –ó–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ Cursor –¥–æ—Å—Ç–∏–≥–Ω—É—Ç
    - ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ä–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –ø—É—Ç—è–º–∏

- ‚úÖ **–≠—Ç–∞–ø 14: –û—á–∏—Å—Ç–∫–∞ –∏ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
    - ‚úÖ **14.1 –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `docs/MCP_CURSOR_SETUP_GUIDE.md`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `docs/MCP_CURSOR_INTEGRATION.md`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `docs/MCP_SERVER.md`
        - ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–æ: `MCP_QUICK_START.md` (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç–∫–∞)
    
    - ‚úÖ **14.2 –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤**
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/mcp-wrapper.sh`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/simple-mcp-test.js`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/start-mcp-with-env.js`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/start-server-with-env.js`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/start-complete-system.sh`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/mcp-pm2.sh`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `scripts/mcp-diagnosis.sh`
        - ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–æ: —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
    
    - ‚úÖ **14.3 –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `.cursor/mcp-cmd.json`
        - ‚ùå –£–¥–∞–ª–µ–Ω–æ: `.cursor/mcp-test.json`
        - ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–æ: `.cursor/mcp.json` (–æ—Å–Ω–æ–≤–Ω–∞—è)
        - ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–æ: `.cursor/mcp-wrapper.json` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

### üéØ –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê (–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏ –ß–∏—Å—Ç–∞—è)

#### üìÅ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- ‚úÖ `MCP_QUICK_START.md` - **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç–∫–∞ –¥–ª—è –ì—É—Ä—É**

#### üìú –°–∫—Ä–∏–ø—Ç—ã (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ):
- ‚úÖ `scripts/start-mcp-for-cursor.js` - **–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞**
- ‚úÖ `scripts/test-mcp-tools.js` - **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–∞**
- ‚úÖ `scripts/check-mcp-health.sh` - **–ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**

#### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–º–∏–Ω–∏–º—É–º):
- ‚úÖ `.cursor/mcp.json` - **–û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- ‚úÖ `.cursor/mcp-wrapper.json` - **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)**

### üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –°—Ç–∞–±–∏–ª—å–Ω–æ–π –†–∞–±–æ—Ç—ã (–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è)

#### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Cursor:
```bash
cd /Users/playra/ai-server
bash scripts/check-mcp-health.sh
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Cursor Chat:
```
–°–æ–∑–¥–∞–π –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ –¥–µ–≤—É—à–∫–∏ —Å –ø—Ä–æ–º–ø—Ç–æ–º "beautiful woman" –∏ telegram_id "123456789"
```

### üéâ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- ‚úÖ **–ó–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å** –≤ Cursor MCP Settings
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ **–ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

### üßπ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –û—á–∏—Å—Ç–∫–∏

**–£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 11
- 3 –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞
- 6 –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤  
- 2 –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–û—Å—Ç–∞–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 6
- 1 –ø–∞–º—è—Ç–∫–∞
- 3 –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞
- 2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–æ—Å–Ω–æ–≤–Ω–∞—è + –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–î–ê–ß–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê –ò –û–ß–ò–©–ï–ù–ê!** 

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** MCP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —á–∏—Å—Ç–∞—è! üü¢üßπ‚ú®

---

## üìö –§–∏–Ω–∞–ª—å–Ω—ã–µ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ù–∞–±–æ—Ä)

- `MCP_QUICK_START.md` - –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç–∫–∞
- `.cursor/mcp.json` - –†–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `scripts/` - –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

**–ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê! –ü–û–†–Ø–î–û–ö –ù–ê–í–ï–î–ï–ù!** üéØüßπ‚ú®

# üöÄ –ü—Ä–æ–µ–∫—Ç 999: AI Server System Optimization (Stage 4.2.1 ConfigurationManager)

## üìä **–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** Stage 4.2.1 –ó–ê–í–ï–†–®–ï–ù/–£–î–ê–õ–ï–ù ‚ö†Ô∏è

### ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:**
- ‚úÖ Stage 1: Foundation (CacheManager, ResourceManager, PerformanceOptimizer) - 150+ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Stage 2: SystemHealthMonitor - 36/36 —Ç–µ—Å—Ç–æ–≤ ‚úÖ  
- ‚úÖ Stage 3: AdvancedMetrics - 20/20 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
- ‚úÖ **Stage 4.1: SystemCoordinator** - 34/34 —Ç–µ—Å—Ç–æ–≤ ‚úÖ

### ‚ö†Ô∏è **Stage 4.2.1 ConfigurationManager - –§–ê–ô–õ–´ –£–î–ê–õ–ï–ù–´**

**–°—Ç–∞—Ç—É—Å:** üîÑ –§–ê–ô–õ–´ –£–î–ê–õ–ï–ù–´ - ConfigurationManager.ts –∏ ConfigurationManager.test.ts –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º:**
- ‚úÖ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å Vitest —Å bun test
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è setNestedValue (readonly property error)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ template variable substitution 
- ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 30/35 —Ç–µ—Å—Ç–æ–≤ (86% –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è)
- ‚úÖ –¢–∏–ø—ã —á–∏—Å—Ç—ã (TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞)

**–û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ –º–æ–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω–∏—è:**
- ‚ùå Configuration validation (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚ùå Error handling (loadConfiguration should not throw)
- ‚ùå Configuration diffing (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–µ–π)

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. üîÑ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ConfigurationManager** - –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
2. ‚û°Ô∏è **–ü–µ—Ä–µ–π—Ç–∏ –∫ Stage 4.2.2** - IntegrationManager enhancement
3. ‚û°Ô∏è **–ü–µ—Ä–µ–π—Ç–∏ –∫ Stage 4.3** - Final system integration
4. üìã **–ü–æ–ª—É—á–∏—Ç—å —É–∫–∞–∑–∞–Ω–∏—è –æ—Ç –ì—É—Ä—É** - –æ –¥–∞–ª—å–Ω–µ–π—à–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã

### üìã **–°–ª–µ–¥—É—é—â–∏–µ –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —ç—Ç–∞–ø—ã:**
- ‚è≥ Stage 4.2.2: IntegrationManager enhancement 
- ‚è≥ Stage 4.3: Final system integration
- ‚è≥ Stage 5: Performance benchmarking

**–û–ñ–ò–î–ê–ù–ò–ï –£–ö–ê–ó–ê–ù–ò–ô –ì–£–†–£** üôè


