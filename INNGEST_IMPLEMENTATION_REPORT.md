# üöÄ –û–¢–ß–ï–¢: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "–ü–ª–∞–Ω –ê (Inngest) + –ü–ª–∞–Ω –ë (Direct Services)"

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### üéØ –ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑** —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **Roadmap** –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø–∞—Ç—Ç–µ—Ä–Ω Plan A/B
- ‚úÖ **–í—ã—è–≤–ª–µ–Ω—ã** 5 —Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –≤ GenerationController
- ‚úÖ **–í—ã—è–≤–ª–µ–Ω—ã** 8+ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö

### üîß –°–æ–∑–¥–∞–Ω–Ω—ã–µ Inngest —Ñ—É–Ω–∫—Ü–∏–∏
1. ‚úÖ **generateImageToPromptInngest** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. ‚úÖ **generateNeuroImageInngest** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ–π—Ä–æ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. ‚úÖ **generateNeuroImageV2Inngest** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ–π—Ä–æ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π V2
4. ‚úÖ **generateLipSyncInngest** - –ª–∏–ø-—Å–∏–Ω–∫ –≤–∏–¥–µ–æ
5. ‚úÖ **generateModelTrainingV2Inngest** - –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π V2

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
src/core/inngest-client/helpers/
‚îú‚îÄ‚îÄ generateImageToPrompt.ts     ‚úÖ –ù–æ–≤—ã–π
‚îú‚îÄ‚îÄ generateNeuroImage.ts        ‚úÖ –ù–æ–≤—ã–π
‚îú‚îÄ‚îÄ generateNeuroImageV2.ts      ‚úÖ –ù–æ–≤—ã–π
‚îú‚îÄ‚îÄ generateLipSync.ts           ‚úÖ –ù–æ–≤—ã–π
‚îú‚îÄ‚îÄ generateModelTrainingV2.ts   ‚úÖ –ù–æ–≤—ã–π
‚îî‚îÄ‚îÄ index.ts                     ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```
src/test/inngest/
‚îú‚îÄ‚îÄ generateImageToPrompt.inngest.test.ts    ‚úÖ –°–æ–∑–¥–∞–Ω
‚îú‚îÄ‚îÄ generateNeuroImage.inngest.test.ts       ‚úÖ –°–æ–∑–¥–∞–Ω
‚îú‚îÄ‚îÄ inngest-functions.integration.test.ts    ‚úÖ –°–æ–∑–¥–∞–Ω
‚îú‚îÄ‚îÄ inngest-functions.simple.test.ts         ‚úÖ –°–æ–∑–¥–∞–Ω
‚îî‚îÄ‚îÄ inngest-basic.test.ts                    ‚úÖ –°–æ–∑–¥–∞–Ω
```

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- ‚úÖ **GenerationController** –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è generateNeuroImage —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Plan A/B
- ‚úÖ **–ò–º–ø–æ—Ä—Ç—ã** –ø–µ—Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–ª–∞–Ω–æ–≤

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –ü–û–ö–†–´–¢–ò–Ø

### –í GenerationController:
- ‚úÖ **generateTextToImage** - –ü–ª–∞–Ω –ê + –ü–ª–∞–Ω –ë
- ‚úÖ **generateSpeech** - –ü–ª–∞–Ω –ê + –ü–ª–∞–Ω –ë  
- ‚úÖ **createVoiceAvatar** - –ü–ª–∞–Ω –ê + –ü–ª–∞–Ω –ë
- ‚úÖ **generateTextToVideo** - –ü–ª–∞–Ω –ê + –ü–ª–∞–Ω –ë
- ‚úÖ **generateImageToVideo** - –ü–ª–∞–Ω –ê + –ü–ª–∞–Ω –ë
- ‚úÖ **generateNeuroImage** - –ü–ª–∞–Ω –ê + –ü–ª–∞–Ω –ë (**–ù–û–í–´–ô**)
- üîÑ **generateImageToPrompt** - Inngest —Å–æ–∑–¥–∞–Ω, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω
- üîÑ **generateNeuroImageV2** - Inngest —Å–æ–∑–¥–∞–Ω, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω
- üîÑ **generateLipSync** - Inngest —Å–æ–∑–¥–∞–Ω, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω
- üîÑ **generateModelTrainingV2** - Inngest —Å–æ–∑–¥–∞–Ω, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω

### –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º:
**6/10 (60%)** ‚úÖ **+20% —É–ª—É—á—à–µ–Ω–∏–µ!**

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –†–ï–®–ï–ù–ò–Ø

### –ü–∞—Ç—Ç–µ—Ä–Ω Plan A/B:
```typescript
if (shouldUseInngest()) {
  // –ü–ª–∞–Ω –ê - Inngest (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å)
  await inngest.send({
    name: 'service/action.start',
    data: { ...params }
  })
} else {
  // –ü–ª–∞–Ω –ë - –ü—Ä—è–º–æ–π —Å–µ—Ä–≤–∏—Å (fallback)
  await originalService(...params)
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Inngest —Ñ—É–Ω–∫—Ü–∏–∏:
```typescript
export const serviceNameInngest = inngest.createFunction(
  { id: 'service-name' },
  { event: 'service/action.start' },
  async ({ event, step }) => {
    return await step.run('process-service', async () => {
      const { bot } = getBotByName(event.data.bot_name)
      return await originalService(event.data.params, bot)
    })
  }
)
```

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø

1. **üöÄ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –í—Å–µ –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ
2. **üõ°Ô∏è –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ü–ª–∞–Ω –ë –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç fallback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å Inngest
3. **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ø–ª–∞–Ω–∞ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
4. **üîß –ì–∏–±–∫–æ—Å—Ç—å**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–ª–∞–Ω–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
5. **üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û—á–µ—Ä–µ–¥–∏ —Ä–∞–∑–≥—Ä—É–∂–∞—é—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ GenerationController
1. üîÑ –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è 4 —Å–µ—Ä–≤–∏—Å–æ–≤
2. üß™ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Inngest —Ñ—É–Ω–∫—Ü–∏–π
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Plan A/B

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
1. **PaymentService** - –∫—Ä–∏—Ç–∏—á–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
2. **BroadcastService** - –º–∞—Å—Å–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
3. **GameService** - –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
4. **NotificationService** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
1. üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Plan A vs Plan B
2. üö® –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ fallback –Ω–∞ Plan B
3. üìà –î–∞—à–±–æ—Ä–¥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—á–µ—Ä–µ–¥–µ–π

## üèÜ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ü–∞—Ç—Ç–µ—Ä–Ω Plan A (Inngest) + Plan B (Direct Services) —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω!**

- ‚úÖ 5 –Ω–æ–≤—ã—Ö Inngest —Ñ—É–Ω–∫—Ü–∏–π —Å–æ–∑–¥–∞–Ω–æ
- ‚úÖ 1 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –û—Å–Ω–æ–≤–∞ –¥–ª—è 100% –ø–æ–∫—Ä—ã—Ç–∏—è –∑–∞–ª–æ–∂–µ–Ω–∞

–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production.

---
*–°–æ–∑–¥–∞–Ω–æ: $(date +"%Y-%m-%d %H:%M:%S")*  
*–°—Ç–∞—Ç—É—Å: –í –†–ê–ó–†–ê–ë–û–¢–ö–ï - –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ 80%*