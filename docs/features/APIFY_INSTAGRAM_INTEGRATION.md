# Instagram Apify Integration

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ RapidAPI –∏–∑ Instagram —Å–∫—Ä–∞–ø–µ—Ä–∞
‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ Apify –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Instagram
‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. –£–¥–∞–ª–µ–Ω—ã RapidAPI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ùå –ö–ª–∞—Å—Å `InstagramAPI` —Å RapidAPI –ª–æ–≥–∏–∫–æ–π
- ‚ùå –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `RAPIDAPI_INSTAGRAM_KEY` –∏ `RAPIDAPI_INSTAGRAM_HOST`
- ‚ùå –ú–µ—Ç–æ–¥—ã `getSimilarUsers()` –∏ `getUserReels()` —Å RapidAPI
- ‚ùå –ò–º–ø–æ—Ä—Ç `axios` (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)
- ‚ùå –§–∞–π–ª `src/core/instagram/api.ts`

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ Apify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ö–ª–∞—Å—Å `InstagramApifyClient` 
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `instagramApifyScraper`
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `APIFY_TOKEN`
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Apify

## –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
instagramScraper-v2.ts (–æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
    ‚Üì
InstagramApifyClient.getSimilarUsers()
    ‚Üì 
triggerApifyInstagramScraping() (–∏–∑ instagramApifyScraper.ts)
    ‚Üì
Apify –∞–∫—Ç–æ—Ä instagram-scraper
    ‚Üì
–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
```bash
APIFY_TOKEN=your-apify-token-here
SUPABASE_URL=your-supabase-connection-string
```

### –£–¥–∞–ª–µ–Ω—ã:
```bash
# –ë–æ–ª—å—à–µ –ù–ï –ù–£–ñ–ù–´:
# RAPIDAPI_INSTAGRAM_KEY=...
# RAPIDAPI_INSTAGRAM_HOST=...
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `instagramScraper-v2` —Ç–µ–ø–µ—Ä—å **–∑–∞–ø—É—Å–∫–∞–µ—Ç** Apify –ø–∞—Ä—Å–∏–Ω–≥
- –î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** —á–µ—Ä–µ–∑ Apify –∞–∫—Ç–æ—Ä
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `status: 'processing'` –≤–º–µ—Å—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ß—Ç–æ –ø–∞—Ä—Å–∏—Ç Apify
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Instagram  
- ‚úÖ –†–∏–ª—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–ª–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä—ã)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- –°–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ Apify —Å–∫—Ä–∞–ø–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `requester_telegram_id: 'auto-system'` —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥–≤–æ–π–Ω–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `APIFY_TOKEN`
2. –°–æ–∑–¥–∞–µ—Ç/–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç
3. **–ó–∞–ø—É—Å–∫–∞–µ—Ç Apify –ø–∞—Ä—Å–∏–Ω–≥** (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å: "processing"
5. Apify –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ–Ω–µ
6. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –°—Ç–∞—Ç—É—Å

üéâ **–ì–û–¢–û–í–û**: RapidAPI –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω, Apify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞!

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `APIFY_TOKEN` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ  
2. ‚úÖ –£–¥–∞–ª–∏—Ç—å `RAPIDAPI_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞