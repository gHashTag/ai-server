# üö® –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú RAILWAY DEPLOYMENT

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢:

- **Git repository**: production –≤–µ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å competitor-subscriptions API
- **–ö–æ–¥**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—à–µ–Ω—ã –≤ production (–∫–æ–º–º–∏—Ç 44b2e0e)
- **Railway config**: `railway.toml` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è production

### ‚ùå –ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

- **Railway server**: `https://ai-server-express.railway.app` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
- **API endpoints**: –í—Å–µ `/api/*` –∏ `/generate/*` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404
- **Deployment**: –ù–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üîç –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. Railway Deployment –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å Git

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ—Ä–≤–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é Railway home page –≤–º–µ—Å—Ç–æ –Ω–∞—à–∏—Ö API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞**:

```
üåê https://ai-server-express.railway.app
‚úÖ /health: 200 OK (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚úÖ /: 200 OK (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Railway ASCII art)
‚ùå /api/competitor-subscriptions: 404 Not Found
‚ùå /generate/text-to-video: 404 Not Found
‚ùå –í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: 404 Not Found
```

### 2. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **Railway –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ production –≤–µ—Ç–∫–µ** - –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ main –∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–µ—Ç–∫–µ
2. **Automatic deployments –æ—Ç–∫–ª—é—á–µ–Ω—ã** - –Ω—É–∂–µ–Ω manual deployment
3. **Build –æ—à–∏–±–∫–∏** - deployment –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–º–∞–Ω
4. **Railway environment** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –¥—Ä—É–≥—É—é –≤–µ—Ç–∫—É

## üõ† –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –î–ï–ô–°–¢–í–ò–Ø

### –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞):

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Railway Dashboard**:

   - –í–æ–π—Ç–∏ –Ω–∞ https://railway.app
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç: `010339a0-51b8-4aa9-95c1-066244b25a9f`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∞—è –≤–µ—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ production environment
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–∏—Ö deployments

2. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π Redeploy**:

   - –í Railway Dashboard –Ω–∞–∂–∞—Ç—å "Deploy Now"
   - –ò–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö: Settings ‚Üí Deploy ‚Üí Redeploy

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Environment**:
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ production environment –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ `production` –≤–µ—Ç–∫–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞):

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Railway CLI**:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Railway CLI –µ—Å–ª–∏ –Ω–µ—Ç
npm install -g @railway/cli

# –í–æ–π—Ç–∏ –≤ Railway
railway login

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
railway status

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π deploy
railway up --environment production
```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å logs**:

```bash
railway logs --environment production
```

## üìã –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° API

### ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤ –∫–æ–¥–µ):

- [x] **Competitor Subscriptions API** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] **Database schema** - —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] **Inngest integration** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] **Controllers & Services** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–æ—Ç–æ–≤–∞
- [x] **Routes** - –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ Express app

### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- [ ] **Video Status Endpoint** - `/generate/text-to-video/status/{jobId}` –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] **Deployment sync** - Railway –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω

## üéØ –ü–õ–ê–ù –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø

### –§–∞–∑–∞ 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Railway (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

1. ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ –≤ production –≤–µ—Ç–∫–µ
2. ‚è≥ –ù—É–∂–Ω–æ: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å Railway —Å production –≤–µ—Ç–∫–æ–π
3. ‚è≥ –ù—É–∂–Ω–æ: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π redeploy

### –§–∞–∑–∞ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Video Status Endpoint (–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

1. ‚è≥ –ù–∞–π—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π video generation –∫–æ–¥
2. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å GET `/generate/text-to-video/status/{jobId}` endpoint
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å full video workflow

### –§–∞–∑–∞ 3: –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (–ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

1. ‚è≥ E2E —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö API
2. ‚è≥ Load testing
3. ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ setup

## üöÄ –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï

**–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** (–¥–ª—è –¥–µ–º–æ –∫–ª–∏–µ–Ω—Ç—É):

1. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π redeploy —á–µ—Ä–µ–∑ Railway Dashboard
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ production environment –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ `production` –≤–µ—Ç–∫–µ
3. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
   - ‚úÖ `GET /api/competitor-subscriptions/stats`
   - ‚úÖ `POST /api/competitor-subscriptions`
   - ‚ùå `GET /generate/text-to-video/status/{jobId}` (–Ω—É–∂–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–∞)

## üìû –î–õ–Ø –ö–õ–ò–ï–ù–¢–ê

**–ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–±–ª–µ–º—ã**:

> Railway —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è –ø–æ—Å–ª–µ –Ω–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. Competitor API –≥–æ—Ç–æ–≤ –≤ –∫–æ–¥–µ, –Ω–æ –Ω—É–∂–µ–Ω manual redeploy —á–µ—Ä–µ–∑ Railway Dashboard.

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è**:

- üî• Railway sync: 5-15 –º–∏–Ω—É—Ç
- üîß Video Status endpoint: 2-4 —á–∞—Å–∞

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å**:

- ‚úÖ –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω (`https://ai-server-express.railway.app`)
- ‚úÖ Health checks –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚ùå API endpoints –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–Ω—ã (–∂–¥—É—Ç deployment)

**–ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ redeploy**:

- ‚úÖ –ü–æ–ª–Ω—ã–π Competitor Subscriptions API
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 24—á
- ‚ùå Video Status –ø–æ–∫–∞ –±–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (—Ç–æ–ª—å–∫–æ Job ID)
