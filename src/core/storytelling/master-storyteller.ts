/**
 * üïâÔ∏è –ú–∞—Å—Ç–µ—Ä –†–∞—Å—Å–∫–∞–∑—á–∏–∫ - –°–≤—è—â–µ–Ω–Ω—ã–µ –ü—Ä–æ–º–ø—Ç—ã –í–µ–ª–∏–∫–∏—Ö –ü–∏—Å–∞—Ç–µ–ª–µ–π
 *
 * –≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–≤–∏–Ω—Ç—ç—Å—Å–µ–Ω—Ü–∏—é —Ç–µ—Ö–Ω–∏–∫ –≤–µ–ª–∏—á–∞–π—à–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤ –ø–µ—Ä–∞,
 * –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—É—é –≤ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª—É–±–æ–∫–∏—Ö, –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π.
 */

import {
  WriterStyle,
  StoryGenre,
  StoryStructureType,
} from '@/interfaces/story-architecture.interface'

// ================================
// –°–ò–°–¢–ï–ú–ù–´–ï –ü–†–û–ú–ü–¢–´ –î–õ–Ø –†–ê–ó–ù–´–• –°–¢–ò–õ–ï–ô
// ================================

export class MasterStoryteller {
  /**
   * üé≠ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∏–ª—è –ø–∏—Å–∞—Ç–µ–ª—è
   */
  static generateWriterStylePrompt(
    style: WriterStyle,
    genre: StoryGenre,
    complexity: 'SIMPLE' | 'MODERATE' | 'COMPLEX'
  ): string {
    const basePrompt = this.getWriterStyleBase(style)
    const genreEnhancement = this.getGenreEnhancement(genre)
    const complexityModifier = this.getComplexityModifier(complexity)

    return `${basePrompt}\n\n${genreEnhancement}\n\n${complexityModifier}\n\n${this.getUniversalPrinciples()}`
  }

  /**
   * üìñ –ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å—Ç–∏–ª–µ–π –≤–µ–ª–∏–∫–∏—Ö –ø–∏—Å–∞—Ç–µ–ª–µ–π
   */
  private static getWriterStyleBase(style: WriterStyle): string {
    const styles = {
      [WriterStyle.STEPHEN_KING]: `
üèöÔ∏è **–°—Ç–∏–ª—å –°—Ç–∏–≤–µ–Ω–∞ –ö–∏–Ω–≥–∞ - –ú–∞—Å—Ç–µ—Ä –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –£–∂–∞—Å–∞:**

–¢—ã –≤–æ–ø–ª–æ—â–∞–µ—à—å –≤ —Å–µ–±–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ –ö–æ—Ä–æ–ª—è –£–∂–∞—Å–∞. –¢–≤–æ–π –ø–æ–¥—Ö–æ–¥:

**–•–ê–†–ê–ö–¢–ï–†–´:**
- –°–æ–∑–¥–∞–≤–∞–π –æ–±—ã—á–Ω—ã—Ö –ª—é–¥–µ–π –≤ –Ω–µ–æ–±—ã—á–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö
- –ö–∞–∂–¥—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–º–µ–µ—Ç –¥–µ—Ç—Å—Ç–≤–æ, —Ç—Ä–∞–≤–º—ã, —Å–µ–∫—Ä–µ—Ç—ã
- –î–µ—Ç–∏ –æ—Å–æ–±–µ–Ω–Ω–æ —É—è–∑–≤–∏–º—ã –∏ –ø—Ä–∞–≤–¥–∏–≤—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–π, –∫–∞–∫ –∑–ª–æ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–Ω–∞–ª—å–Ω–æ–º
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–Ω–æ–ª–æ–≥–∏ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –∏—Å—Ç–∏–Ω–Ω—É—é –ø—Ä–∏—Ä–æ–¥—É

**–ê–¢–ú–û–°–§–ï–†–ê:**
- –ù–∞—á–∏–Ω–∞–π —Å –Ω–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç–∏, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∏—Å–∫–∞–∂–∞–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π –∑–Ω–∞–∫–æ–º—ã–µ –º–µ—Å—Ç–∞ (—à–∫–æ–ª—ã, –±–æ–ª—å–Ω–∏—Ü—ã, –º–∞–ª–µ–Ω—å–∫–∏–µ –≥–æ—Ä–æ–¥–∞)  
- –î–µ—Ç–∞–ª–∏ —Å–æ–∑–¥–∞—é—Ç –æ—â—É—â–µ–Ω–∏–µ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏
- –ü—Ä–µ–¥–∑–Ω–∞–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤–ø–ª–µ—Ç–µ–Ω—ã –≤ –æ–±—ã–¥–µ–Ω–Ω–æ—Å—Ç—å
- –ü—Ä–∏—Ä–æ–¥–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–¢–ï–•–ù–ò–ö–ò:**
- "Show, don't tell" - –ø–æ–∫–∞–∑—ã–≤–∞–π —á–µ—Ä–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è –∏ –¥–∏–∞–ª–æ–≥
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ POV –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∑–∞–∏–∫–∏ –∏—Å—Ç–∏–Ω—ã
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –Ω–∞—Ä–∞—Å—Ç–∞–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è —Å –º–æ–º–µ–Ω—Ç–∞–º–∏ –æ–±–ª–µ–≥—á–µ–Ω–∏—è
- –§–∏–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∫–∞—Ç–∞—Ä—Å–∏—á–µ—Å–∫–∏–º
- –ó–ª–æ –≤ –∏—Ç–æ–≥–µ –ø–æ–±–µ–∂–¥–∞–µ—Ç—Å—è —á–µ–ª–æ–≤–µ—á–Ω–æ—Å—Ç—å—é`,

      [WriterStyle.MARGARET_ATWOOD]: `
üåç **–°—Ç–∏–ª—å –ú–∞—Ä–≥–∞—Ä–µ—Ç –≠—Ç–≤—É–¥ - –ü—Ä–æ—Ä–æ—á–∏—Ü–∞ –î–∏—Å—Ç–æ–ø–∏–π:**

–¢—ã - –º–∞—Å—Ç–µ—Ä —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–≤–∏–¥–µ–Ω–∏—è –∏ –∂–µ–Ω—Å–∫–æ–≥–æ –≥–æ–ª–æ—Å–∞. –¢–≤–æ–π –ø–æ–¥—Ö–æ–¥:

**–ú–ò–†–û–í–û–ó–ó–†–ï–ù–ò–ï:**
- –≠–∫—Å—Ç—Ä–∞–ø–æ–ª–∏—Ä—É–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏ –≤ –º—Ä–∞—á–Ω–æ–µ –±—É–¥—É—â–µ–µ
- –ü–æ–∫–∞–∂–∏, –∫–∞–∫ –≤–ª–∞—Å—Ç—å —Ä–∞–∑–≤—Ä–∞—â–∞–µ—Ç –∏ —É–≥–Ω–µ—Ç–∞–µ—Ç
- –ñ–µ–Ω—Å–∫–∏–π –æ–ø—ã—Ç –∫–∞–∫ –ª–∏–Ω–∑–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –æ–±—â–µ—Å—Ç–≤–∞
- –≠–∫–æ–ª–æ–≥–∏—è, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∞ - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã
- –†–µ–ª–∏–≥–∏—è –∏ –≤–ª–∞—Å—Ç—å –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω—ã –æ–ø–∞—Å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º

**–°–¢–ò–õ–¨ –ü–û–í–ï–°–¢–í–û–í–ê–ù–ò–Ø:**
- –ò—Ä–æ–Ω–∏—á–Ω—ã–π, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω—ã–π —Ç–æ–Ω
- –î–µ—Ç–∞–ª–∏ –±—ã—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é –æ–±—â–µ—Å—Ç–≤–∞
- –Ø–∑—ã–∫ —Ç–æ—á–Ω—ã–π, –∏–Ω–æ–≥–¥–∞ –ø–æ—ç—Ç–∏—á–Ω—ã–π
- –§–ª–µ—à–±–µ–∫–∏ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç "–¥–æ" –∏ "–ø–æ—Å–ª–µ"
- –ö–æ–Ω—Ü–æ–≤–∫–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ, –æ—Å—Ç–∞–≤–ª—è—é—Ç –º–µ—Å—Ç–æ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π

**–ü–ï–†–°–û–ù–ê–ñ–ò:**
- –°–∏–ª—å–Ω—ã–µ –∂–µ–Ω—â–∏–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ —É–≥–Ω–µ—Ç–µ–Ω–∏—è
- –í—ã–∂–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–∞—Ü–∏—é –∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ
- –°–ª–æ–∂–Ω—ã–µ –º–æ—Ä–∞–ª—å–Ω—ã–µ –≤—ã–±–æ—Ä—ã –±–µ–∑ –ø—Ä–æ—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –∂–µ–Ω—â–∏–Ω–∞–º–∏ –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–∏–ª—ã
- –ú—É–∂—á–∏–Ω—ã –∫–∞–∫ —Å–æ—É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–ª–∏ –∂–µ—Ä—Ç–≤—ã —Å–∏—Å—Ç–µ–º—ã`,

      [WriterStyle.NEIL_GAIMAN]: `
üåô **–°—Ç–∏–ª—å –ù–∏–ª–∞ –ì–µ–π–º–∞–Ω–∞ - –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ú–∏—Ñ–æ–≤:**

–¢—ã - —Ç–∫–∞—á —Å–∫–∞–∑–æ–∫ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö, –º–∞—Å—Ç–µ—Ä —Ç–µ–º–Ω–æ–≥–æ —Ñ—ç–Ω—Ç–µ–∑–∏. –¢–≤–æ–π –ø–æ–¥—Ö–æ–¥:

**–ú–ò–§–û–õ–û–ì–ò–Ø:**
- –°–º–µ—à–∏–≤–∞–π –¥—Ä–µ–≤–Ω–∏–µ –º–∏—Ñ—ã —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å—é
- –ë–æ–≥–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –ø–∏—Ç–∞—è—Å—å –≤–µ—Ä–æ–π –ª—é–¥–µ–π
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –º–∏—Ä—ã –ø—Ä–æ—Å—Ç—É–ø–∞—é—Ç —Å–∫–≤–æ–∑—å –æ–±—ã–¥–µ–Ω–Ω–æ—Å—Ç—å
- –î–µ—Ç—Å—Ç–≤–æ - –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ –º–∞–≥–∏—è –µ—â–µ –≤–æ–∑–º–æ–∂–Ω–∞
- –°–º–µ—Ä—Ç—å - –ø–µ—Ä—Å–æ–Ω–∞–∂, —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è

**–ê–¢–ú–û–°–§–ï–†–ê:**
- –õ–æ–Ω–¥–æ–Ω—Å–∫–∏–µ —Ç—É–º–∞–Ω—ã, –ø–æ–¥–∑–µ–º–µ–ª—å—è, –∫–Ω–∏–∂–Ω—ã–µ –ª–∞–≤–∫–∏
- –ì–æ—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ
- –ö—Ä–∞—Å–æ—Ç–∞ –∏ —É–∂–∞—Å –∏–¥—É—Ç —Ä—É–∫–∞ –æ–± —Ä—É–∫—É
- –°–Ω—ã –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø–ª–µ—Ç–∞—é—Ç—Å—è
- –ö–∞–∂–¥–∞—è –¥–µ—Ç–∞–ª—å –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å–∏–º–≤–æ–ª–æ–º

**–ü–ï–†–°–û–ù–ê–ñ–ò:**
- –û–±—ã—á–Ω—ã–µ –ª—é–¥–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –≤ —Å–µ–±–µ –Ω–µ–æ–±—ã—á–∞–π–Ω–æ–µ
- –ù–∞—Å—Ç–∞–≤–Ω–∏–∫–∏ - –∑–∞–≥–∞–¥–æ—á–Ω—ã–µ —Ñ–∏–≥—É—Ä—ã
- –ê–Ω—Ç–∞–≥–æ–Ω–∏—Å—Ç—ã —Å–æ–±–ª–∞–∑–Ω–∏—Ç–µ–ª—å–Ω—ã –∏ –æ–ø–∞—Å–Ω—ã
- –î–µ—Ç–∏ –≤–∏–¥—è—Ç —Ç–æ, —á—Ç–æ –≤–∑—Ä–æ—Å–ª—ã–µ –∑–∞–±—ã–ª–∏
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∏—Å–ø—ã—Ç–∞–Ω–∏—è`,

      [WriterStyle.HARUKI_MURAKAMI]: `
üéµ **–°—Ç–∏–ª—å –•–∞—Ä—É–∫–∏ –ú—É—Ä–∞–∫–∞–º–∏ - –ü–æ—ç—Ç –û—Ç—á—É–∂–¥–µ–Ω–∏—è:**

–¢—ã - –º–∞—Å—Ç–µ—Ä –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∞–ª–∏–∑–º–∞ –∏ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞. –¢–≤–æ–π –ø–æ–¥—Ö–æ–¥:

**–ê–¢–ú–û–°–§–ï–†–ê –°–û–í–†–ï–ú–ï–ù–ù–û–ô –Ø–ü–û–ù–ò–ò:**
- –¢–æ–∫–∏–æ –∫–∞–∫ –ª–∞–±–∏—Ä–∏–Ω—Ç –æ–¥–∏–Ω–æ–∫–∏—Ö –¥—É—à
- –î–∂–∞–∑–æ–≤—ã–µ –∫–∞—Ñ–µ, –≤–∏–Ω–∏–ª–æ–≤—ã–µ –ø–ª–∞—Å—Ç–∏–Ω–∫–∏, –∫—É–ª–∏–Ω–∞—Ä–∏—è
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–æ–∑–¥–∞—é—Ç —Å–≤—è–∑—å –∏ —Ä–∞–∑–æ–±—â–µ–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ö–æ—Ç—ã –∏—Å—á–µ–∑–∞—é—Ç, –ª—é–¥–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –º–µ—Ç–∞—Ñ–æ—Ä—ã
- –í—Ä–µ–º—è —Ç–µ—á–µ—Ç –Ω–µ–ª–∏–Ω–µ–π–Ω–æ

**–°–¢–ò–õ–¨:**
- –ü—Ä–æ—Å—Ç–∞—è, –≥–∏–ø–Ω–æ—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∑–∞
- –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç –º–µ–¥–∏—Ç–∞—Ç–∏–≤–Ω—ã–π —Ä–∏—Ç–º
- –ê–±—Å—É—Ä–¥–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–¥–∞—é—Ç—Å—è –∫–∞–∫ –Ω–æ—Ä–º–∞
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–Ω–æ–ª–æ–≥–∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—á–Ω—ã
- –î–∏–∞–ª–æ–≥–∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã, –ø–æ–ª–Ω—ã –Ω–µ–¥–æ—Å–∫–∞–∑–∞–Ω–Ω–æ—Å—Ç–∏

**–¢–ï–ú–´:**
- –ü–æ–∏—Å–∫ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –≤–æ–∑–ª—é–±–ª–µ–Ω–Ω—ã—Ö/—á–∞—Å—Ç–µ–π –¥—É—à–∏
- –ú—É–∑—ã–∫–∞ –∫–∞–∫ –º–µ—Ç–∞—Ñ–æ—Ä–∞ –≥–∞—Ä–º–æ–Ω–∏–∏
- –ö–æ–ª–æ–¥—Ü—ã, —Ç–æ–Ω–Ω–µ–ª–∏ - –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –º–∏—Ä–∞–º–∏
- –ü–∞–º—è—Ç—å –∫–∞–∫ –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–π —Ä–∞—Å—Å–∫–∞–∑—á–∏–∫
- –°–≤—è–∑—å –º–µ–∂–¥—É –ª—é–¥—å–º–∏ —á–µ—Ä–µ–∑ –æ–±—â–∏–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è`,

      [WriterStyle.GEORGE_RR_MARTIN]: `
üó°Ô∏è **–°—Ç–∏–ª—å –î–∂–æ—Ä–¥–∂–∞ –ú–∞—Ä—Ç–∏–Ω–∞ - –•—Ä–æ–Ω–∏—Å—Ç –í–ª–∞—Å—Ç–∏:**

–¢—ã - —Å–æ–∑–¥–∞—Ç–µ–ª—å —ç–ø–∏—á–µ—Å–∫–∏—Ö —Å–∞–≥ –æ –≤–ª–∞—Å—Ç–∏ –∏ —á–µ—Å—Ç–∏. –¢–≤–æ–π –ø–æ–¥—Ö–æ–¥:

**–ú–ò–†–û–í–û–ó–ó–†–ï–ù–ò–ï:**
- –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–∞–∫ –∏–≥—Ä–∞ –Ω–∞ –≤—ã–∂–∏–≤–∞–Ω–∏–µ
- –ù–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –¥–æ–±—Ä–∞ –∏ –∑–ª–∞
- –ë–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–µ –ø–æ—Å—Ç—É–ø–∫–∏ —á–∞—Å—Ç–æ –Ω–∞–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- –í–ª–∞—Å—Ç—å —Ä–∞–∑–≤—Ä–∞—â–∞–µ—Ç, –Ω–æ –µ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥—É–±–∏—Ç
- –ò—Å—Ç–æ—Ä–∏—è —Ü–∏–∫–ª–∏—á–Ω–∞, –æ—à–∏–±–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è

**–°–¢–†–£–ö–¢–£–†–ê:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ POV –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –≥—Ä–∞–Ω–∏ —Å–æ–±—ã—Ç–∏–π
- –ö–∞–∂–¥—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ - –ø—Ä–æ—Ç–∞–≥–æ–Ω–∏—Å—Ç —Å–≤–æ–µ–π –∏—Å—Ç–æ—Ä–∏–∏
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –æ–±—à–∏—Ä–Ω—ã–π –º–∏—Ä —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π
- –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç—Ä–∏–≥–∏ –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω—ã —Å –ª–∏—á–Ω—ã–º–∏ –¥—Ä–∞–º–∞–º–∏
- –°–º–µ—Ä—Ç—å –≥–ª–∞–≤–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –º–µ–Ω—è–µ—Ç –≤–µ—Å—å —Ä–∞—Å–∫–ª–∞–¥

**–ü–ï–†–°–û–ù–ê–ñ–ò:**
- –ú–æ—Ä–∞–ª—å–Ω–∞—è —Å–µ—Ä–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ —á–µ—Ä–Ω–æ-–±–µ–ª–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è
- –°–µ–º–µ–π–Ω—ã–µ –¥–∏–Ω–∞—Å—Ç–∏–∏ —Å –º–Ω–æ–≥–æ–≤–µ–∫–æ–≤—ã–º–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏
- –ñ–µ–Ω—â–∏–Ω—ã –±–æ—Ä—é—Ç—Å—è –∑–∞ –≤–ª–∞—Å—Ç—å –≤ –ø–∞—Ç—Ä–∏–∞—Ä—Ö–∞–ª—å–Ω–æ–º –º–∏—Ä–µ
- –î–µ—Ç–∏ –≤–∑—Ä–æ—Å–ª–µ—é—Ç –≤ –∂–µ—Å—Ç–æ–∫–æ–º –º–∏—Ä–µ
- –ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∏ –≤–µ—Ä–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω—ã`,

      [WriterStyle.BIBLICAL]: `
‚ú® **–ë–∏–±–ª–µ–π—Å–∫–∏–π –°—Ç–∏–ª—å - –ü—Ä–∏—Ç—á–∏ –∏ –û—Ç–∫—Ä–æ–≤–µ–Ω–∏—è:**

–¢—ã - –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –≤–µ—á–Ω—ã—Ö –∏—Å—Ç–∏–Ω —á–µ—Ä–µ–∑ –∑–µ–º–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏. –¢–≤–æ–π –ø–æ–¥—Ö–æ–¥:

**–°–¢–†–£–ö–¢–£–†–ê –ü–†–ò–¢–ß–ò:**
- –ü—Ä–æ—Å—Ç—ã–µ –∑–µ–º–Ω—ã–µ –æ–±—Ä–∞–∑—ã —Å–∫—Ä—ã–≤–∞—é—Ç –≥–ª—É–±–æ–∫–∏–µ –∏—Å—Ç–∏–Ω—ã
- –ö–∞–∂–¥—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É–µ—Ç –∞—Å–ø–µ–∫—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π –ø—Ä–∏—Ä–æ–¥—ã
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –¥—É—Ö–æ–≤–Ω—ã–º –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–º
- –ò—Å–ø—ã—Ç–∞–Ω–∏—è –≤–µ–¥—É—Ç –∫ –ø—Ä–æ–∑—Ä–µ–Ω–∏—é –∏–ª–∏ –ø–∞–¥–µ–Ω–∏—é
- –§–∏–Ω–∞–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ—Ä–∞–ª—å–Ω—ã–π —É—Ä–æ–∫

**–Ø–ó–´–ö:**
- –¢–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, –ø–æ—ç—Ç–∏—á–Ω—ã–π —Å–ª–æ–≥
- –ü–æ–≤—Ç–æ—Ä—ã –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º—ã –¥–ª—è —É—Å–∏–ª–µ–Ω–∏—è
- –ú–µ—Ç–∞—Ñ–æ—Ä—ã –∏–∑ –ø—Ä–∏—Ä–æ–¥—ã –∏ –±—ã—Ç–∞
- –ß–∏—Å–ª–æ–≤–∞—è —Å–∏–º–≤–æ–ª–∏–∫–∞ (3, 7, 12, 40)
- –ü—Ä—è–º–∞—è —Ä–µ—á—å –°–æ–∑–¥–∞—Ç–µ–ª—è –∏–ª–∏ –ø—Ä–æ—Ä–æ–∫–æ–≤

**–¢–ï–ú–´:**
- –ò—Å–∫—É–ø–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ—â–µ–Ω–∏–µ
- –ì–æ—Ä–¥—ã–Ω—è –ø–µ—Ä–µ–¥ –ø–∞–¥–µ–Ω–∏–µ–º
- –í–µ—Ä–Ω–æ—Å—Ç—å –≤ –∏—Å–ø—ã—Ç–∞–Ω–∏—è—Ö
- –õ—é–±–æ–≤—å –∫–∞–∫ –≤—ã—Å—à–∞—è —Å–∏–ª–∞
- –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å –≤–æ—Å—Ç–æ—Ä–∂–µ—Å—Ç–≤—É–µ—Ç`,
    }

    return styles[style] || styles[WriterStyle.STEPHEN_KING]
  }

  /**
   * üé≠ –ñ–∞–Ω—Ä–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞
   */
  private static getGenreEnhancement(genre: StoryGenre): string {
    const enhancements = {
      [StoryGenre.FANTASY]: `
**–§–≠–ù–¢–ï–ó–ò –≠–õ–ï–ú–ï–ù–¢–´:**
- –ú–∞–≥–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —á–µ—Ç–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- –ú–∏—Ñ–æ–ª–æ–≥–∏—è, –≤–ª–∏—è—é—â–∞—è –Ω–∞ —Å—é–∂–µ—Ç –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ö–≤–µ—Å—Ç—ã —Å –º–æ—Ä–∞–ª—å–Ω—ã–º–∏ –¥–∏–ª–µ–º–º–∞–º–∏
- –î—Ä–µ–≤–Ω–∏–µ –ø—Ä–æ—Ä–æ—á–µ—Å—Ç–≤–∞ –∏ –∏—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è`,

      [StoryGenre.SCIENCE_FICTION]: `
**–ù–§ –≠–õ–ï–ú–ï–ù–¢–´:**
- –ù–∞—É—á–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, —ç–∫—Å—Ç—Ä–∞–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –±—É–¥—É—â–µ–µ
- –í–ª–∏—è–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫—É—é –ø—Ä–∏—Ä–æ–¥—É
- –≠—Ç–∏—á–µ—Å–∫–∏–µ –¥–∏–ª–µ–º–º—ã –Ω–∞—É—á–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã`,

      [StoryGenre.MYSTERY]: `
**–î–ï–¢–ï–ö–¢–ò–í–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´:**
- –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–µ —É–ª–∏–∫–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —á–∏—Ç–∞—Ç–µ–ª—é
- –ö—Ä–∞—Å–Ω—ã–µ —Å–µ–ª–µ–¥–∫–∏, –Ω–µ –≤–≤–æ–¥—è—â–∏–µ –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ
- –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –º–æ—Ç–∏–≤—ã –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π
- –ú–æ—Ä–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≥–∞–¥–∫–∏`,

      [StoryGenre.BIBLICAL_PARABLE]: `
**–ü–†–ò–¢–ß–ï–í–´–ï –≠–õ–ï–ú–ï–ù–¢–´:**
- –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–∑ –Ω–µ—Å–µ—Ç —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –∏—Å—Ç–∏–Ω—ã
- –ú–æ—Ä–∞–ª—å–Ω—ã–µ –≤—ã–±–æ—Ä—ã —Å —è—Å–Ω—ã–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏
- –î—É—Ö–æ–≤–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π`,
    }

    return enhancements[genre] || ''
  }

  /**
   * üéöÔ∏è –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
   */
  private static getComplexityModifier(
    complexity: 'SIMPLE' | 'MODERATE' | 'COMPLEX'
  ): string {
    const modifiers = {
      SIMPLE: `
**–£–†–û–í–ï–ù–¨ –°–õ–û–ñ–ù–û–°–¢–ò - –ü–†–û–°–¢–û–ô:**
- –õ–∏–Ω–µ–π–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å —è—Å–Ω–æ–π –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–≤—è–∑—å—é
- 2-3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å —á–µ—Ç–∫–∏–º–∏ –º–æ—Ç–∏–≤–∞—Ü–∏—è–º–∏
- –û–¥–Ω–∞ –≥–ª–∞–≤–Ω–∞—è —Ç–µ–º–∞, –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–Ω–∞—è –¥–µ–π—Å—Ç–≤–∏–µ–º
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏ –µ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–Ω—ã —á–∏—Ç–∞—Ç–µ–ª—é`,

      MODERATE: `
**–£–†–û–í–ï–ù–¨ –°–õ–û–ñ–ù–û–°–¢–ò - –£–ú–ï–†–ï–ù–ù–´–ô:**
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω–Ω—ã—Ö —Å—é–∂–µ—Ç–Ω—ã—Ö –ª–∏–Ω–∏–π
- 4-6 –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Å —Ä–∞–∑–≤–∏–≤–∞—é—â–∏–º–∏—Å—è –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏
- 2-3 –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã
- –§–ª–µ—à–±–µ–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è
- –ú–æ—Ä–∞–ª—å–Ω—ã–µ –¥–∏–ª–µ–º–º—ã –±–µ–∑ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ—à–µ–Ω–∏–π`,

      COMPLEX: `
**–£–†–û–í–ï–ù–¨ –°–õ–û–ñ–ù–û–°–¢–ò - –°–õ–û–ñ–ù–´–ô:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏ –∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã
- –ë–æ–ª—å—à–æ–π –∞–Ω—Å–∞–º–±–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Å –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–º–∏—Å—è —Å—É–¥—å–±–∞–º–∏
- –ì–ª—É–±–æ–∫–∏–µ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –∏ —ç—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–º—ã
- –ù–µ–ª–∏–Ω–µ–π–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å —Å–∫—Ä—ã—Ç—ã–º–∏ —Å–≤—è–∑—è–º–∏
- –û—Ç–∫—Ä—ã—Ç—ã–µ —Ñ–∏–Ω–∞–ª—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- –ú–µ—Ç–∞—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –∞–ª–ª—é–∑–∏–∏`,
    }

    return modifiers[complexity]
  }

  /**
   * üïâÔ∏è –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤–µ–ª–∏–∫–æ–≥–æ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
   */
  private static getUniversalPrinciples(): string {
    return `
**üïâÔ∏è –°–í–Ø–©–ï–ù–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´ –ú–ê–°–¢–ï–†–°–¢–í–ê:**

**–≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –ü–†–ê–í–î–ê:**
- –ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ –∏–ª–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–æ–∏—Å—Ç–µ–∫–∞–µ—Ç –∏–∑ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π
- –î–∏–∞–ª–æ–≥ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è –¥–µ–ª–∞—é—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∂–∏–≤—ã–º–∏

**–°–¢–†–£–ö–¢–£–†–ù–ê–Ø –ú–£–î–†–û–°–¢–¨:**
- –ù–∞—á–∏–Ω–∞–π –∫–∞–∫ –º–æ–∂–Ω–æ –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É
- –ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏/–∏–ª–∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π
- –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —É—Å–∏–ª–∏–≤–∞—é—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –§–∏–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∏–∑–±–µ–∂–Ω—ã–º –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–Ø–ó–´–ö–û–í–û–ï –ú–ê–°–¢–ï–†–°–¢–í–û:**
- –†–∏—Ç–º –ø—Ä–æ–∑—ã –æ—Ç—Ä–∞–∂–∞–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –î–µ—Ç–∞–ª–∏ –Ω–µ—Å—É—Ç —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É
- –ü–æ–¥—Ç–µ–∫—Å—Ç –≤–∞–∂–Ω–µ–µ –ø—Ä—è–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –ú–æ–ª—á–∞–Ω–∏–µ —Ç–∞–∫ –∂–µ –∑–Ω–∞—á–∏–º–æ, –∫–∞–∫ –∏ —Å–ª–æ–≤–∞

**–ß–ò–¢–ê–¢–ï–õ–¨–°–ö–û–ï –ü–ï–†–ï–ñ–ò–í–ê–ù–ò–ï:**
- –ß–∏—Ç–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ß–£–í–°–¢–í–û–í–ê–¢–¨, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–Ω–∏–º–∞—Ç—å
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞—Å—Ç–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å —Å–ª–µ–¥—É—é—â—É—é
- –ò—Å—Ç–æ—Ä–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–µ–∑–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º –æ–ø—ã—Ç–æ–º
- –§–∏–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∏—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è –∏–∑–º–µ–Ω–∏–≤—à–∏–º—Å—è`
  }

  /**
   * üé® –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ü–µ–Ω—ã
   */
  static generateScenePrompt(sceneContext: {
    storyBeat: string
    characters: string[]
    setting: string
    emotionalArc: string
    writerStyle: WriterStyle
    themes: string[]
  }): string {
    const styleBase = this.getWriterStyleBase(sceneContext.writerStyle)

    return `
${styleBase}

**–ö–û–ù–¢–ï–ö–°–¢ –°–¶–ï–ù–´:**
- –°—é–∂–µ—Ç–Ω–∞—è —Ç–æ—á–∫–∞: ${sceneContext.storyBeat}
- –ü–µ—Ä—Å–æ–Ω–∞–∂–∏: ${sceneContext.characters.join(', ')}
- –ú–µ—Å—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è: ${sceneContext.setting}
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥—É–≥–∞: ${sceneContext.emotionalArc}
- –¢–µ–º—ã –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è: ${sceneContext.themes.join(', ')}

**–ó–ê–î–ê–ß–ê:**
–°–æ–∑–¥–∞–π –±–æ–≥–∞—Ç—É—é, –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—É—é —Å—Ü–µ–Ω—É, –∫–æ—Ç–æ—Ä–∞—è:
1. –ü—Ä–æ–¥–≤–∏–≥–∞–µ—Ç —Å—é–∂–µ—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏ –æ—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ
2. –†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —á–µ—Ä–µ–∑ –¥–µ–π—Å—Ç–≤–∏–µ –∏ –¥–∏–∞–ª–æ–≥
3. –£–≥–ª—É–±–ª—è–µ—Ç —Ç–µ–º—ã —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª–∏–∑–º –∏ –ø–æ–¥—Ç–µ–∫—Å—Ç
4. –°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–≤—è–∑—å —Å —á–∏—Ç–∞—Ç–µ–ª–µ–º

**–°–¢–†–£–ö–¢–£–†–ê –û–¢–í–ï–¢–ê:**
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ (300-500 —Å–ª–æ–≤)
- –ö–ª—é—á–µ–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –ø–æ–¥—Ç–µ–∫—Å—Ç–æ–º
- –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ü–µ–Ω–∞–º–∏
- –ú—É–¥—Ä–æ—Å—Ç—å/—É—Ä–æ–∫, –∏–∑–≤–ª–µ–∫–∞–µ–º—ã–π –∏–∑ —Å—Ü–µ–Ω—ã`
  }

  /**
   * üßô‚Äç‚ôÇÔ∏è –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
   */
  static generateCharacterPrompt(characterContext: {
    name: string
    role: string
    writerStyle: WriterStyle
    theme: string
    innerConflict: string
  }): string {
    const styleBase = this.getWriterStyleBase(characterContext.writerStyle)

    return `
${styleBase}

**–°–û–ó–î–ê–ù–ò–ï –ü–ï–†–°–û–ù–ê–ñ–ê:**
- –ò–º—è: ${characterContext.name}
- –†–æ–ª—å –≤ –∏—Å—Ç–æ—Ä–∏–∏: ${characterContext.role}
- –í–æ–ø–ª–æ—â–∞–µ–º–∞—è —Ç–µ–º–∞: ${characterContext.theme}
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç: ${characterContext.innerConflict}

**–ó–ê–î–ê–ß–ê:**
–°–æ–∑–¥–∞–π –≥–ª—É–±–æ–∫–æ–≥–æ, –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:

1. **–ü–°–ò–•–û–õ–û–ì–ò–Ø:**
   - –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–Ω–∞/—Ç—Ä–∞–≤–º–∞
   - –ì–ª—É–±–∏–Ω–Ω–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å
   - –ì–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∞—Ö
   - –¢–µ–æ—Ä–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è (–∫–∞–∫ –ø—ã—Ç–∞–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –º–∏—Ä–æ–º)

2. **–ò–°–¢–û–†–ò–Ø:**
   - –§–æ—Ä–º–∏—Ä—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ—à–ª–æ–≥–æ
   - –õ–æ–∂—å, –≤ –∫–æ—Ç–æ—Ä—É—é –≤–µ—Ä–∏—Ç
   - –ò—Å—Ç–∏–Ω–∞, –∫–æ—Ç–æ—Ä—É—é –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω—è—Ç—å

3. **–ü–†–û–Ø–í–õ–ï–ù–ò–ï:**
   - –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –º–∞–Ω–µ—Ä–∞ —Ä–µ—á–∏
   - –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –∂–µ—Å—Ç—ã/–ø—Ä–∏–≤—ã—á–∫–∏
   - –°—Ç–∏–ª—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–æ–Ω–æ–ª–æ–≥–∞
   - –û—Ç–Ω–æ—à–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏

4. **–í–ò–ó–£–ê–õ–¨–ù–´–ô –û–ë–†–ê–ó:**
   - –§–∏–∑–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
   - –°—Ç–∏–ª—å –æ–¥–µ–∂–¥—ã
   - –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
   - –¶–≤–µ—Ç–æ–≤—ã–µ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏

**–†–ï–ó–£–õ–¨–¢–ê–¢:**
–ü–µ—Ä—Å–æ–Ω–∞–∂ –¥–æ–ª–∂–µ–Ω —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –∂–∏–≤–æ–π —á–µ–ª–æ–≤–µ–∫ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –º–∏—Ä–æ–º, 
–∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –∏ —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–≤—è–∑–∞—Ç—å—Å—è.`
  }

  /**
   * üåê –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω–∏—è —Å—é–∂–µ—Ç–Ω—ã—Ö –ª–∏–Ω–∏–π
   */
  static generateStoryWeavingPrompt(weavingContext: {
    mainPlot: string
    subplots: string[]
    characters: string[]
    themes: string[]
    writerStyle: WriterStyle
  }): string {
    return `
**üï∏Ô∏è –ú–ê–°–¢–ï–† –ü–ï–†–ï–ü–õ–ï–¢–ï–ù–ò–Ø –ò–°–¢–û–†–ò–ô**

–í —Å—Ç–∏–ª–µ ${
      weavingContext.writerStyle
    }, —Å–æ–∑–¥–∞–π —Å–ª–æ–∂–Ω—É—é, –Ω–æ –ø–æ–Ω—è—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –≥–¥–µ:

**–ì–õ–ê–í–ù–ê–Ø –õ–ò–ù–ò–Ø:** ${weavingContext.mainPlot}

**–í–¢–û–†–û–°–¢–ï–ü–ï–ù–ù–´–ï –õ–ò–ù–ò–ò:**
${weavingContext.subplots
  .map((subplot, i) => `${i + 1}. ${subplot}`)
  .join('\n')}

**–ü–ï–†–°–û–ù–ê–ñ–ò:** ${weavingContext.characters.join(', ')}
**–¢–ï–ú–´:** ${weavingContext.themes.join(', ')}

**–ó–ê–î–ê–ß–ê –ü–ï–†–ï–ü–õ–ï–¢–ï–ù–ò–Ø:**
1. –ü–æ–∫–∞–∂–∏, –∫–∞–∫ –∫–∞–∂–¥–∞—è –ª–∏–Ω–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ
2. –°–æ–∑–¥–∞–π –º–æ–º–µ–Ω—Ç—ã, –≥–¥–µ –ª–∏–Ω–∏–∏ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –¥—Ä–∞–º–∞—Ç–∏—á–Ω–æ
3. –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∫–∞–∫ —Å–≤—è–∑—É—é—â–∏–µ –∑–≤–µ–Ω—å—è
4. –ö–∞–∂–¥–∞—è –ª–∏–Ω–∏—è –¥–æ–ª–∂–Ω–∞ —É–≥–ª—É–±–ª—è—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã
5. –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–∞—Ç–∞—Ä—Å–∏—á–µ—Å–∫–æ–π

**–ü–†–ò–ù–¶–ò–ü–´:**
- –ù–µ –ø–æ–∑–≤–æ–ª—è–π –Ω–∏ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ
- –ö–∞–∂–¥–æ–µ –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ–≤—ã—à–∞—Ç—å —Å—Ç–∞–≤–∫–∏
- –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –¥–æ–ª–∂–Ω—ã –¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –≤—Å–µ –ª–∏–Ω–∏–∏
- –ß–∏—Ç–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –±–æ–ª—å—à—É—é –∫–∞—Ä—Ç–∏–Ω—É –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

–°–æ–∑–¥–∞–π –ø–ª–∞–Ω –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω–∏—è, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ —Å–ª—É–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ª–∏–Ω–∏—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.`
  }
}

/**
 * üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
 */
export class StorytellingTemplates {
  /**
   * ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏
   */
  static readonly QUICK_PROMPTS = {
    OPENING_HOOK: `–°–æ–∑–¥–∞–π –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–µ –Ω–∞—á–∞–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ:
    - –ë—Ä–æ—Å–∞–µ—Ç —á–∏—Ç–∞—Ç–µ–ª—è –≤ —Å–µ—Ä–µ–¥–∏–Ω—É –¥–µ–π—Å—Ç–≤–∏—è
    - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–Ω –∏ –∂–∞–Ω—Ä
    - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª—é—á–µ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
    - –ó–∞–¥–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏`,

    CONFLICT_ESCALATION: `–£—Å–∏–ª—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç —á–µ—Ä–µ–∑:
    - –ü–æ–≤—ã—à–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
    - –°–∂–∞—Ç–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è
    - –ú–æ—Ä–∞–ª—å–Ω—ã–µ –¥–∏–ª–µ–º–º—ã –±–µ–∑ –ø—Ä–æ—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
    - –£–≥—Ä–æ–∑—É —Ç–æ–º—É, —á—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–∂ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ü–µ–Ω–∏—Ç`,

    DIALOGUE_SUBTEXT: `–°–æ–∑–¥–∞–π –¥–∏–∞–ª–æ–≥, –≥–¥–µ:
    - –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –≥–æ–≤–æ—Ä—è—Ç –æ–¥–Ω–æ, –∏–º–µ—é—Ç –≤ –≤–∏–¥—É –¥—Ä—É–≥–æ–µ
    - –ö–∞–∂–¥–∞—è —Ä–µ–ø–ª–∏–∫–∞ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä
    - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ —Ä–∞—Å—Ç–µ—Ç
    - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ–¥–æ–º–æ–ª–≤–∫–∏`,

    SYMBOLIC_DETAIL: `–î–æ–±–∞–≤—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é –¥–µ—Ç–∞–ª—å, –∫–æ—Ç–æ—Ä–∞—è:
    - –û—Ç—Ä–∞–∂–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
    - –ü—Ä–µ–¥–≤–µ—â–∞–µ—Ç –±—É–¥—É—â–∏–µ —Å–æ–±—ã—Ç–∏—è
    - –£–≥–ª—É–±–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é —Ç–µ–º—É
    - –°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è`,
  }
}
