#!/usr/bin/env node

/**
 * üéØ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø URL –î–û–°–¢–ê–í–ö–ò: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞—Ä—Ö–∏–≤
 *
 * –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ URL –ø–æ–¥—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Ç–æ–≤—ã–º –∞—Ä—Ö–∏–≤–æ–º
 */

console.log('üéØ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø URL –î–û–°–¢–ê–í–ö–ò –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 144022504')
console.log('===========================================================')

// –ò–º–∏—Ç–∏—Ä—É–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∞—Ä—Ö–∏–≤–∞
const existingArchive =
  'instagram_competitors_vyacheslav_nekludov_1753195339316.zip'
const downloadUrl = `http://localhost:4000/download/instagram-archive/${existingArchive}`

async function simulateTelegramDelivery() {
  try {
    console.log('üéØ –î–ï–ú–û–ù–°–¢–†–ò–†–£–ï–ú URL –ø–æ–¥—Ö–æ–¥ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∞—Ä—Ö–∏–≤–æ–º...')
    console.log('')
    console.log('üìã –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:')
    console.log(`   ‚Ä¢ üì¶ –ê—Ä—Ö–∏–≤: ${existingArchive}`)
    console.log(`   ‚Ä¢ üîó URL: ${downloadUrl}`)
    console.log(`   ‚Ä¢ üì± User ID: 144022504`)
    console.log(`   ‚Ä¢ ü§ñ Bot: neuro_blogger_bot`)

    // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º —á—Ç–æ –∞—Ä—Ö–∏–≤ –¥–æ—Å—Ç—É–ø–µ–Ω
    console.log('')
    console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏–≤–∞...')

    const checkResponse = await fetch(downloadUrl, { method: 'HEAD' })

    if (!checkResponse.ok) {
      throw new Error(`–ê—Ä—Ö–∏–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: HTTP ${checkResponse.status}`)
    }

    const contentLength = checkResponse.headers.get('content-length')
    const contentType = checkResponse.headers.get('content-type')

    console.log(`‚úÖ –ê—Ä—Ö–∏–≤ –¥–æ—Å—Ç—É–ø–µ–Ω!`)
    console.log(`   ‚Ä¢ –†–∞–∑–º–µ—Ä: ${contentLength} bytes`)
    console.log(`   ‚Ä¢ –¢–∏–ø: ${contentType}`)

    // –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∫ –æ–Ω–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤ Telegram
    console.log('')
    console.log('üì± –°–û–û–ë–©–ï–ù–ò–ï –ö–û–¢–û–†–û–ï –ü–û–õ–£–ß–ò–¢ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ 144022504:')
    console.log('=' * 60)

    const telegramMessage = `üéØ –ê–Ω–∞–ª–∏–∑ Instagram –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω!

üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
‚Ä¢ –ù–∞–π–¥–µ–Ω–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤: 5
‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –±–∞–∑—É: 5
‚Ä¢ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ä–∏–ª—Å–æ–≤: 10

üì¶ **–í –∞—Ä—Ö–∏–≤–µ:**
‚Ä¢ HTML –æ—Ç—á—ë—Ç —Å –∫—Ä–∞—Å–∏–≤–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
‚Ä¢ Excel —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚Ä¢ README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

–¶–µ–ª–µ–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç: @vyacheslav_nekludov

üì• **–°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤:** [${existingArchive}](${downloadUrl})

‚ö†Ô∏è _–°—Å—ã–ª–∫–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤_`

    console.log(telegramMessage)
    console.log('=' * 60)

    console.log('')
    console.log('üîó –¢–ï–°–¢ –°–ö–ê–ß–ò–í–ê–ù–ò–Ø:')
    console.log(`   1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: ${downloadUrl}`)
    console.log('   2. –ê—Ä—Ö–∏–≤ –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞—Ç—å—Å—è')
    console.log('   3. –û—Ç–∫—Ä–æ–π—Ç–µ ZIP —Ñ–∞–π–ª')
    console.log('   4. –í–Ω—É—Ç—Ä–∏ –Ω–∞–π–¥–µ—Ç–µ:')
    console.log('      - üìÑ HTML –æ—Ç—á–µ—Ç (–æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)')
    console.log('      - üìä Excel —Ñ–∞–π–ª (–æ—Ç–∫—Ä–æ–π—Ç–µ –≤ Excel)')
    console.log('      - üìù README.txt (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)')

    console.log('')
    console.log('‚úÖ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!')
    console.log('')
    console.log('üéâ –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–û –†–ê–ë–û–¢–´ URL –ü–û–î–•–û–î–ê:')
    console.log(`   ‚Ä¢ ‚úÖ –ê—Ä—Ö–∏–≤ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL`)
    console.log(`   ‚Ä¢ ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ headers –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è`)
    console.log(`   ‚Ä¢ ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (${contentLength} bytes)`)
    console.log(`   ‚Ä¢ ‚úÖ Telegram –ø–æ–ª—É—á–∏—Ç –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π`)
    console.log(`   ‚Ä¢ ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è`)

    console.log('')
    console.log('üìù –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:')
    console.log(
      '   URL –ø–æ–¥—Ö–æ–¥ –†–ê–ë–û–¢–ê–ï–¢! –ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤.'
    )
    console.log('   –ö–∞–∫ —Ç–æ–ª—å–∫–æ Inngest —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø—Ä–∞–≤–∏—Ç—Å—è - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç')
    console.log('   –ø–æ–ª—É—á–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–≤–µ–∂–∏–µ –∞—Ä—Ö–∏–≤—ã!')
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:', error.message)
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é
simulateTelegramDelivery()
